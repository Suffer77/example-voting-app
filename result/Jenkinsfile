pipeline {
	agent{
    	docker{
      		image 'node:8.9-alpine'
    	}
  	}
	stages {
		stage('build') {
			steps {
				echo 'Compiling result app'
				dir('result') {
					sh 'npm install'
				}
			}
		}
		stage('test') {
            steps { 
                echo 'Running Unit Test on result app'
				dir('result') {
                    sh 'npm test'
                }
            }
        }
	}
	post {
		always {
			echo 'Building multibranch pipeline for result is completed..'
		}
	}
}
